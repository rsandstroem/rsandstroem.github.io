<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Data Scientist Blog - Rikard Sandström</title>
        <link rel="stylesheet" href="https://rsandstroem.github.io/theme/css/main.css" />
        <link href="https://rsandstroem.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Data Scientist Blog Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="https://github.com/rsandstroem/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="https://rsandstroem.github.io/">Data Scientist Blog </a></h1>
                <nav><ul>
    
                        <li><a href="https://rsandstroem.github.io/pages/about.html">about</a></li>
                    <li><a href="https://rsandstroem.github.io/category/posts.html">posts</a></li>
                </ul>
                </nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://rsandstroem.github.io/azurehdinsighttemplate.html">Create Azure HDInsight clusters using templates</a></h1>
<footer class="post-info">
        <span>Don 01 September 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/cloud.html">cloud</a><a href="https://rsandstroem.github.io/tag/architecture.html">architecture</a><a href="https://rsandstroem.github.io/tag/tutorial.html">tutorial</a><a href="https://rsandstroem.github.io/tag/big-data.html">big data</a></span>
</footer><!-- /.post-info --><p>Microsoft Azure provides big data infrastructure through the HDInsight product. However, they bill you per hour no matter if you use the computing resources or not. An option is to destroy clusters when they are not needed, but to get the clusters back up with minimum effort it is best to use predefined scripts or templates. This post shows you a few alternatives how to accomplish this.</p>
<h2>Accessing templates from the Azure portal</h2>
<p>Your templates are collected in one central location on the Azure portal, conveniently named "Templates". To find it click on "More Services &gt;" in the bottom left, and select it. I recommend saving this blade as a favourite to always have it visible in the left pane.
<img alt="drawing" src="https://rsandstroem.github.io/images/azureportal_template1.png" />
This will show you a list of saved templates which you can edit and deploy. It is likely an empty list if you did not yet create any template, so let's get straight to creating one.</p>
<h2>Save existing cluster as a template</h2>
<p>There is an option to export the configuration of an running cluster as a template. From the <a href="https://portal.azure.com">Azure portal</a>, go to the HDInsight cluster blade. The menu item "Automation script" shows you the configuration of the current HDInsight cluster.
<img alt="drawing" src="https://rsandstroem.github.io/images/azureportal_export_template.png" />
Click on "Add to library" to save this template to your collection of templates in the Azure portal.</p>
<p><em>By the time I am writing this post, this export feature does not work well, as is evident from the orange warning message. The cluster I created from these auto generated templates were not achieving the desired result. I had better success with the following method:</em></p>
<h2>Use Azure quickstart templates</h2>
<p>There is a maintained repository of pre-configured templates at <a href="https://github.com/Azure/azure-quickstart-templates">github</a>. I contain many useful templates to use or look at for inspiration.</p>
<p><em>It should be possible to use Microsoft provided links that ties the Azure portal to the templates on github to deploy a new cluster with a single click. In practice always had issues with this process so I prefer to copy the content of an quickstart template into the Template blade of Azure portal and save it as a new template.</em></p>
<p>Select a template that fits your purpose and adapt it by adding in some default values. It will decrease the manual labour of recreating the cluster and also reduce the risk of providing the wrong parameter values, e.g., the cluster name.</p>
<h2>Deploy template</h2>
<p>Once the template is properly configured, hit the "Deploy" button. If you filled out the configuration with sensible default, you just need to type in the passwords, accept the conditions and click "Create" to deploy the cluster.
<img alt="drawing" src="https://rsandstroem.github.io/images/azureportal_template0.png" />
It will take about 20 minutes to start all services, depending on your configuration.</p>
<p>If one service fails, you can edit the template and repeat the steps above. It will not touch services which were marked as successful in the previous deployment.</p>
<h2>Next steps</h2>
<p>It is possible to script post deployment actions in the template, saving you the trouble of manual installation of applications such as R-Studio. This will be shown in another blog post.</p><p><a href="https://rsandstroem.github.io/azurehdinsighttemplate.html#disqus_thread">comments</a></p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://rsandstroem.github.io/BigDataInsurance.html" rel="bookmark"
                           title="Permalink to Impact of Big Data on the Insurance Industry">Impact of Big Data on the Insurance Industry</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Son 28 August 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/business.html">business</a><a href="https://rsandstroem.github.io/tag/perspective.html">perspective</a><a href="https://rsandstroem.github.io/tag/insurance.html">insurance</a><a href="https://rsandstroem.github.io/tag/big-data.html">big data</a></span>
</footer><!-- /.post-info -->                <p>Big Data is bringing decisive advantages to insurers through more relevant, detailed, and up to date information than was previously possible. At the center of this transformation are customers. They expect to be able to select products defined and driven by their needs, preferences and convenience.</p>
                <a class="readmore" href="https://rsandstroem.github.io/BigDataInsurance.html">read more</a>
<p><a href="https://rsandstroem.github.io/BigDataInsurance.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://rsandstroem.github.io/CanYouTrustYourData.html" rel="bookmark"
                           title="Permalink to Can you trust your data?">Can you trust your data?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Son 28 August 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/business.html">business</a><a href="https://rsandstroem.github.io/tag/perspective.html">perspective</a><a href="https://rsandstroem.github.io/tag/statistics.html">statistics</a></span>
</footer><!-- /.post-info -->                <p>Business is the process of managing under conditions of uncertainty. To ensure optimal outcome business leaders must base their decisions on information of varying reliability. This is not new, humans always had a need for making decisions with uncertain outcomes. “Is he a friend or foe?” “Should I trade my food for a hammer?” “Can I reach safety if I turn and run, or should I fight the lion?”</p>
                <a class="readmore" href="https://rsandstroem.github.io/CanYouTrustYourData.html">read more</a>
<p><a href="https://rsandstroem.github.io/CanYouTrustYourData.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://rsandstroem.github.io/weathertime.html" rel="bookmark"
                           title="Permalink to Building a data lake 1: Weather and time">Building a data lake 1: Weather and time</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Sam 20 August 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/python.html">python</a><a href="https://rsandstroem.github.io/tag/api.html">api</a><a href="https://rsandstroem.github.io/tag/tutorial.html">tutorial</a></span>
</footer><!-- /.post-info -->                
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I am currently building a data lake which will be used to improve operations at an energy company using machine learning. Among the many interesting topics the following are prioritized:</p>
<ul>
<li>Can we predict the energy production of hydroelectric, solar and wind power plants? </li>
<li>Can we predict the energy consumption using weather reports? After all, home owners need to heat their homes more on a cold winter day than on a sunny day in October.</li>
                <a class="readmore" href="https://rsandstroem.github.io/weathertime.html">read more</a>
<p><a href="https://rsandstroem.github.io/weathertime.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://rsandstroem.github.io/GeoMapsFoliumDemo.html" rel="bookmark"
                           title="Permalink to Using Folium to show geographic data">Using Folium to show geographic data</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Son 14 August 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/python.html">python</a><a href="https://rsandstroem.github.io/tag/folium.html">folium</a><a href="https://rsandstroem.github.io/tag/geo.html">geo</a><a href="https://rsandstroem.github.io/tag/tutorial.html">tutorial</a><a href="https://rsandstroem.github.io/tag/visualization.html">visualization</a></span>
</footer><!-- /.post-info -->                
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This post demonstrates how to</p>
<ul>
<li>Display a map from OpenStreetMaps using Folium</li>
<li>Add custom shape files to define regions of interest</li>
<li>Color the regions of interest based on data in a pandas dataframe</li>
</ul>
<p>The code of this post is available at <a href="https://github.com/rsandstroem/IPythonNotebooks/blob/master/GeoMapsFoliumDemo/GeoMapsFoliumDemo.ipynb">https://github.com/rsandstroem/IPythonNotebooks/blob/master/GeoMapsFoliumDemo/GeoMapsFoliumDemo.ipynb</a> .</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Getting-map-data-and-file-formats">Getting map data and file formats<a class="anchor-link" href="#Getting-map-data-and-file-formats">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using the method described here, you do not need any local map data. The maps are automatically pulled from OpenStreetMap.</p>
                <a class="readmore" href="https://rsandstroem.github.io/GeoMapsFoliumDemo.html">read more</a>
<p><a href="https://rsandstroem.github.io/GeoMapsFoliumDemo.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="https://rsandstroem.github.io/MongoDBDemo.html" rel="bookmark"
                           title="Permalink to Simple MongoDB demo">Simple MongoDB demo</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Son 14 August 2016</span>
<span>| tags: <a href="https://rsandstroem.github.io/tag/python.html">python</a><a href="https://rsandstroem.github.io/tag/mongodb.html">mongodb</a><a href="https://rsandstroem.github.io/tag/tutorial.html">tutorial</a></span>
</footer><!-- /.post-info -->                
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This blog post is a tutorial that introduces the basics of MongoDB and how to utilize it within a python environment. To accomplish this we will use pymongo to connect python with MongoDB.</p>
<p>Mongo DB is a convenient NoSQL database which uses JSON syntax to store and query documents. I am frequently using MongoDB when dealing with streaming data from sensors or APIs. In big data scenarios I find MongoDB powerful since it allows for replication and sharding, thus enabling distributed computing and high availability, but that is a topic for another tutorial!</p>
                <a class="readmore" href="https://rsandstroem.github.io/MongoDBDemo.html">read more</a>
<p><a href="https://rsandstroem.github.io/MongoDBDemo.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://rsandstroem.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://ch.linkedin.com/in/rikard-sandström-a0b3229">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-83199770-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'data-scientist-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>